{
  // Zenoh router configuration with Remote API plugin for browser WebSocket access
  mode: "router",

  // Listen for peer connections on localhost only to avoid Tailscale/VPN routing issues
  listen: {
    endpoints: ["tcp/127.0.0.1:7447"],
  },

  // Disable multicast scouting to prevent discovering remote peers via Tailscale
  scouting: {
    multicast: {
      enabled: false,
    },
    gossip: {
      enabled: false,
    },
  },

  // Plugin loading configuration
  plugins_loading: {
    enabled: true,
    search_dirs: ["~/.zenoh/lib", "/usr/local/lib", "/usr/lib"],
  },

  // Plugins configuration
  plugins: {
    // Remote API plugin exposes WebSocket endpoint for zenoh-ts clients
    remote_api: {
      // WebSocket port for browser connections
      websocket_port: 10001,
    },
  },
}
