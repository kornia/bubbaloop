[workspace]
name = "bubbaloop"
version = "0.1.0"
description = "Multi-camera RTSP streaming with ROS-Z and Foxglove"
authors = ["Edgar Riba <edgar.riba@gmail.com>"]
channels = ["conda-forge"]
platforms = ["linux-64", "linux-aarch64"]

[activation]
scripts = ["scripts/activate.sh"]

[tasks]
build = "cargo build --release"
multicam = "RUST_LOG=info cargo run --bin multicam --release"
check = "cargo check"
test = "cargo test"
docs = "mkdocs serve"
docs-build = "mkdocs build"

[dependencies]
# Rust toolchain
rust = ">=1.75"

# GLib/GIO (required by gstreamer-rs)
glib = ">=2.56"

# GStreamer core and plugins
gstreamer = ">=1.22"
gst-plugins-base = ">=1.22"
gst-plugins-good = ">=1.22"
gst-plugins-bad = ">=1.22"      # Contains h264parse
gst-plugins-ugly = ">=1.22"     # Contains x264enc
gst-libav = ">=1.22"            # Contains avdec_h264

# Build dependencies
pkg-config = ">=0.29"
cmake = ">=3.20"
zlib = ">=1.2"

# Documentation
mkdocs-material = ">=9.0"

